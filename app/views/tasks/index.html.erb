<h1>Tasks</h1>

<table class="table table-responsive">
  <thead>
    <tr>
      <th>Title <%= link_to("<i class='fas fa-sort-up'></i>".html_safe,sort_by_title_asc_team_project_tasks_path(params[:team_id],params[:project_id])) %><%= link_to("<i class='fa fa-sort-down'></i>".html_safe,sort_by_title_desc_team_project_tasks_path(params[:team_id],params[:project_id])) %></th>
      <th>Description</th>
      <th>Priority</th>
      <th>Complete</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @tasks.each do |task| %>
      <tr>
        <td><%= task.title %></td>
        <td><%= task.description %></td>
        <td><%= task.priority %></td>
        <td><%= status_tag(task.complete) %></td>
        <td><%= link_to 'Show', team_project_task_path(params[:team_id],params[:project_id],task),class:"btn btn-primary btn-sm" %></td>
        <td><%= link_to 'Edit', edit_team_project_task_path(params[:team_id],params[:project_id],task),class:"btn btn-primary btn-sm" %></td>
        <td><%= link_to 'Destroy', team_project_task_path(params[:team_id],params[:project_id],task), method: :delete, data: { confirm: "Are you sure you want to delete this task (#{task.title}) ?" },class:"btn btn-danger btn-sm" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New task', new_team_project_task_path(params[:team_id],params[:project_id]),class:"btn btn-primary" %>
